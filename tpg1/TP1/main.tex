\documentclass[10pt, a4paper]{article}
\usepackage[paper=a4paper, left=1.5cm, right=1.5cm, bottom=1.5cm, top=3.5cm]{geometry}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{aed2-diseno, aed2-itef, aed2-tad, aed2-symb}
\usepackage{caratula}

\begin{document}

\titulo{Trabajo Práctico 1: "Pacalgo2"}
\materia{Algoritmos y Estructuras de Datos II}
\grupo{Grupo: tomarAgua()}

% CAMBIAR INTEGRANTES
\integrante{Wazowski, Mike}{002/12}{mwazowski@dc.uba.ar}
\integrante{Bond, James}{007/007}{bond@mi6.co.uk}
\integrante{Capunta, Elsa}{003/17}{ecapunta@dc.uba.ar}
\integrante{Sánchez, Warren}{004/15}{tienelasrespuestas@les.luthier.com}

\maketitle



\section{Ejercicios - Parte 1}

\tad{\tadNombre{dimensión}}
\tad{\tadNombre{coordenadas}}

\begin{tad}{\tadNombre{Partida}}

\tadGeneros{partida}

\tadExporta{partida, generadores, observadores}

\tadUsa{\tadNombre{mapa}, \tadNombre{coordenadas}, \tadNombre{bool}, \tadNombre{conjunto($\alpha$)}, \tadNombre{dimensión}}

\tadIgualdadObservacional{p}{p'}{partida}{jugador(p) \igobs jugador(p') $\land$ \\ mapa(p) \igobs mapa(p')}

\tadObservadores
\tadOperacion{jugador}{partida}{coordenadas}{}
\tadOperacion{mapa}{partida}{mapa}{}

\tadGeneradores{}
\tadOperacion{iniciarPartida}{mapa}{partida}{}
\tadOperacion{arriba}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))+1$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))+1$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{abajo}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))-1$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))-1$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{derecha}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p))+1,$\pi_2$(jugador(p))$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p))+1,$\pi_2$(jugador(p))$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{izquierda}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p))-1,$\pi_2$(jugador(p))$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p))-1,$\pi_2$(jugador(p))$\rangle$ $\in$ paredes(mapa(p)))}

\tadOtrasOperaciones
\tadOperacion{seAsustó?}{partida}{bool}{}
\tadOperacion{ganó?}{partida}{bool}{}
\tadOperacion{terminóElJuego?}{partida}{bool}{}
\tadOperacion{hayFantasmasCerca}{coordenadas,conj(coordenadas)}{bool}{}

\tadAxiomas[\paratodo{partida}{p}, \paratodo{mapa}{m}, \paratodo{coordenadas}{c}, \paratodo{conj(coordenadas)}{f}]
\tadAlinearAxiomas{hayFantasmasCerca($\langle x, y\rangle, f$)}
\tadAxioma{jugador(iniciarPartida($m$))}{puntoDeSalida($m$)}
\tadAxioma{jugador(arriba($p$))}{$\langle\pi_1$(jugador($p$)), $\pi_2$(jugador($p$))$ + 1\rangle$}
\tadAxioma{jugador(abajo($p$))}{$\langle\pi_1$(jugador($p$)), $\pi_2$(jugador($p$))$ - 1\rangle$}
\tadAxioma{jugador(derecha($p$))}{$\langle\pi_1$(jugador($p$))$ + 1$, $\pi_2$(jugador($p$))$\rangle$}
\tadAxioma{jugador(izquierda($p$))}{$\langle\pi_1$(jugador($p$))$ - 1$, $\pi_2$(jugador($p$))$\rangle$}
\
\tadAxioma{mapa(iniciarPartida($m$))}{$m$}
\tadAxioma{mapa(arriba($p$))}{mapa($p$)}
\tadAxioma{mapa(abajo($p$))}{mapa($p$)}
\tadAxioma{mapa(izquierda($p$))}{mapa($p$)}
\tadAxioma{mapa(derecha($p$))}{mapa($p$)}
\
\tadAxioma{seAsustó?($p$)}{hayFantasmasCerca(jugador($p$), fantasmas(mapa($p$)))}

\tadAxioma{ganó?($p$)}{jugador($p$) = puntoDeLlegada(mapa($p$))}

\tadAxioma{terminóElJuego?($p$)}{seAsustó($p$) $\lor$ ganó($p$)}

\tadAxioma{hayFantasmasCerca($c, f$)}{\IF\ vacío?(f) THEN false
                            ELSE ( $|\pi_1$($c$)$-\pi_1$(dameUno($f$))$|$ + $|\pi_2$($c$)$-\pi_2$(dameUno($f$))$|< 3$ ) 
                            $\lor$ hayFantasmasCerca(sinUno($f$)) FI}

\end{tad}

\section{Ejercicios - Parte 2}

\begin{tad}{\tadNombre{Partida}}

\tadGeneros{partida}

\tadExporta{partida, generadores, observadores}

\tadUsa{\tadNombre{mapa}, \tadNombre{coordenadas}, \tadNombre{bool}, \tadNombre{conjunto($\alpha$)}, \tadNombre{dimensión}}

\tadIgualdadObservacional{p}{p'}{partida}{jugador(p) \igobs jugador(p') $\land$ \\ mapa(p) \igobs mapa(p') $\land$ \\ chocolates(p) \igobs chocolates(p') $\land$ \\ movimientosConInmunidad(p) \igobs movimientosConInmunidad(p') $\land$ \\ puntaje(p) \igobs puntaje(p')}



\tadObservadores
\tadOperacion{jugador}{partida}{coordenadas}{}
\tadOperacion{mapa}{partida}{mapa}{}
\tadOperacion{chocolates}{partida}{conj(coordenadas)}{}
\tadOperacion{movimientosConInmunidad}{partida}{nat}{}
\tadOperacion{puntaje}{partida}{nat}{}

\tadGeneradores{}
\tadOperacion{iniciarPartida}{mapa/m,conj(coordenadas)/chocolates}{partida}{$(\forall$c:coordenadas)(c$\in$chocolates$\implies$enRango?(c,dimensión(m))$\land_L$\\ $\neg$(c $\in$ {puntoDeSalida(m)} $\lor$ c $\in$ paredes(m)))}
\tadOperacion{arriba}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))+1$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))+1$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{abajo}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))-1$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p)),$\pi_2$(jugador(p))-1$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{derecha}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p))+1,$\pi_2$(jugador(p))$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p))+1,$\pi_2$(jugador(p))$\rangle$ $\in$ paredes(mapa(p)))}
\tadOperacion{izquierda}{partida/p}{partida}{$\neg$terminóElJuego(p) $\land$ enRango?($\langle$ $\pi_1$(jugador(p))-1,$\pi_2$(jugador(p))$\rangle$, dimensión(mapa(p))) $\land$ $\neg$($\langle$ $\pi_1$(jugador(p))-1,$\pi_2$(jugador(p))$\rangle$ $\in$ paredes(mapa(p)))}

\tadOtrasOperaciones
\tadOperacion{seAsustó?}{partida}{bool}{}
\tadOperacion{ganó?}{partida}{bool}{}
\tadOperacion{terminóElJuego?}{partida}{bool}{}
\tadOperacion{hayFantasmasCerca}{coordenadas,conj(coordenadas)}{bool}{}

\end{tad}

\end{document}
